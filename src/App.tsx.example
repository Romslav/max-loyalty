import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport { useNotifications } from '@hooks/useNotifications';\nimport { ToastContainer, NotificationCenter } from '@components/notifications';\nimport { useAuthStore } from '@stores/authStore';\n\n// Import your pages and layouts\nimport AdminLayout from '@pages/admin/AdminLayout';\nimport RestaurantLayout from '@pages/restaurant/RestaurantLayout';\nimport GuestLayout from '@pages/guest/GuestLayout';\nimport CashierLayout from '@pages/cashier/CashierLayout';\nimport LoginPage from '@pages/auth/LoginPage';\n\nfunction App() {\n  const { user } = useAuthStore();\n\n  // Initialize notifications and WebSocket connection\n  const { isConnected, subscribe, unsubscribe } = useNotifications({\n    autoConnect: true,\n    debug: import.meta.env.DEV,\n  });\n\n  return (\n    <Router>\n      <div className="min-h-screen bg-gray-50 dark:bg-gray-900">\n        {/* Notification Center */}\n        {user && (\n          <div className="fixed top-4 right-4 z-40">\n            <NotificationCenter />\n          </div>\n        )}\n\n        {/* Connection Status Indicator (Optional) */}\n        {user && !isConnected && (\n          <div className="fixed bottom-4 left-4 px-3 py-2 bg-yellow-500 text-white rounded-lg shadow-lg z-40 text-sm">\n            ðŸ“„ Reconnecting...\n          </div>\n        )}\n\n        {/* Toast Notifications Container */}\n        <ToastContainer />\n\n        {/* Routes */}\n        <Routes>\n          {/* Auth Routes */}\n          {!user ? (\n            <>\n              <Route path="/*" element={<LoginPage />} />\n            </>\n          ) : (\n            <>\n              {/* Admin Routes */}\n              {user.role === 'admin' && (\n                <Route path="/admin/*" element={<AdminLayout />} />\n              )}\n\n              {/* Restaurant Routes */}\n              {user.role === 'restaurant' && (\n                <Route path="/restaurant/*" element={<RestaurantLayout />} />\n              )}\n\n              {/* Guest Routes */}\n              {user.role === 'guest' && (\n                <Route path="/guest/*" element={<GuestLayout />} />\n              )}\n\n              {/* Cashier Routes */}\n              {user.role === 'cashier' && (\n                <Route path="/cashier/*" element={<CashierLayout />} />\n              )}\n\n              {/* Fallback */}\n              <Route path="/*" element={<div>Unauthorized</div>} />\n            </>\n          )}\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n